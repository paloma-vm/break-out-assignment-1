(()=>{"use strict";const t=class{constructor(t=0,i=0,e=100,s=100,h="#f00"){this.x=t,this.y=i,this.width=e,this.height=s,this.color=h}moveTo(t,i){this.x=t,this.y=i}moveBy(t,i){this.x+=t,this.y+=i}render(t){t.beginPath(),t.rect(this.x,this.y,this.width,this.height),t.fillStyle=this.color,t.fill(),t.closePath()}},i=class extends t{constructor(t=0,i=0,e=75,s=20,h="#b6d7a8",r=!0){super(t,i,e,s,h),this.status=r}},e=class extends t{constructor(t,i,e,s,h=3,r="16px Helvetica",d="left"){super(i,e,s),this.text=t,this.value=h,this.font=r,this.align=d}render(t){t.font=this.font,t.fillStyle=this.color,t.fillText(`${this.text} ${this.value}`,this.x,this.y),t.textAlign=this.align}},s=document.getElementById("myCanvas"),h=s.getContext("2d"),r=(s.width-75)/2,d=s.height-10,o=new class extends t{constructor(t=0,i=0,e=100,s=100,h="#d6d6d6"){super(t,i,e,s,h)}render(t){t.beginPath(),t.rect(this.x,this.y,this.width,this.height),t.fillStyle=this.color,t.fill(),t.closePath()}}(0,0,s.width,s.height),n=new class extends t{constructor(t=0,i=0,e=10,s="#0095DD"){super(t,i,0,0,s),this.radius=e,this.dx=2,this.dy=-2}move(){this.x+=this.dx,this.y+=this.dy}render(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.color,t.fill(),t.closePath()}},c=new class extends t{constructor(t,i,e=75,s=10,h="#0095DD"){super(t,i,e,s,h)}}(r,d,75,10);let l=!1,y=!1;const a=new class{constructor(t,i){this.brickPadding=10,this.brickOffsetTop=30,this.brickOffsetLeft=30,this.brickWidth=75,this.brickHeight=20,this.cols=t,this.rows=i,this.bricks=[],this.initialize()}initialize(){for(let t=0;t<this.cols;t+=1){this.bricks[t]=[];for(let e=0;e<this.rows;e+=1){const s=t*(this.brickWidth+this.brickPadding)+this.brickOffsetLeft,h=e*(this.brickHeight+this.brickPadding)+this.brickOffsetTop;this.bricks[t][e]=new i(s,h)}}}render(t){for(let i=0;i<this.cols;i+=1)for(let e=0;e<this.rows;e+=1){const s=this.bricks[i][e];!0===s.status&&s.render(t)}}}(5,3),x=new e("Score: ",8,20,"blue",0),u=new e(10,30,"Lives: 3");function f(){n.x=s.width/2,n.y=s.height-30,n.dx=2,n.dy=-2,c.x=(s.width-c.width)/2}document.addEventListener("keydown",(function(t){"Right"===t.key||"ArrowRight"===t.key?l=!0:"Left"!==t.key&&"ArrowLeft"!==t.key||(y=!0)}),!1),document.addEventListener("keyup",(function(t){"Right"===t.key||"ArrowRight"===t.key?l=!1:"Left"!==t.key&&"ArrowLeft"!==t.key||(y=!1)}),!1),document.addEventListener("mousemove",(function(t){const i=t.clientX-s.offsetLeft;i>0&&i<s.width&&c.moveTo(i-c.width/2,d)}),!1),f(),function t(){h.clearRect(0,0,s.width,s.height),o.render(h),a.render(h),c.render(h),n.render(h),x.render(h),u.render(h),function(){for(let t=0;t<a.cols;t+=1)for(let i=0;i<a.rows;i+=1){const e=a.bricks[t][i];!0===e.status&&n.x>e.x&&n.x<e.x+e.width&&n.y>e.y&&n.y<e.y+e.height&&(n.dy=-n.dy,e.status=!1,x.value+=1,x.value===a.rows*a.cols&&(alert("YOU WIN, CONGRATULATIONS!"),document.location.reload()))}}(),n.move(h),l&&c.x<s.width-c.width?c.moveBy(7,0):y&&c.x>0&&c.moveBy(-7,0),n.y+n.dy<0&&(n.dy=-n.dy),n.y+n.dy>s.height&&(n.dy=-n.dy),(n.x+n.dx>s.width||n.x+n.dx<0)&&(n.dx=-n.dx),(n.y+n.dy>s.height||n.y+n.dy<0)&&(n.dy=-n.dy),(n.x+n.dx>s.width-n.radius||n.x+n.dx<n.radius)&&(n.dx=-n.dx),n.y+n.dy<n.radius?n.dy=-n.dy:n.y+n.dy>s.height-n.radius&&(n.x>c.x&&n.x<c.x+c.width?n.dy=-n.dy:(u.value-=1,!u.value<1?(alert("GAME OVER"),document.location.reload()):f())),requestAnimationFrame(t)}()})();